{"version":3,"sources":["webpack:///./src/views/setup/admin.vue?7b47","webpack:///src/views/setup/admin.vue","webpack:///./src/views/setup/admin.vue?0c61","webpack:///./src/views/setup/admin.vue","webpack:///./src/views/setup/admin.vue?45ae"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","_l","item","key","id","title","attr","model","value","callback","$$v","$set","expression","_e","staticStyle","items","ind","_s","des","creating","on","$event","Save","basicsList","emailList","creating2","sendTest","staticRenderFns","component"],"mappings":"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","file":"static/js/chunk-33902f8b.6f7b4374.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"page-content\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-head\"},[_vm._v(\"系统设置\")]),_c('div',{staticClass:\"card-body\"},[(_vm.loading)?_c('div',{staticClass:\"demo-spin-container\"},[_c('Spin',{attrs:{\"fix\":\"\",\"size\":\"large\"}})],1):_c('Tabs',{attrs:{\"type\":\"card\",\"animated\":false}},[_c('TabPane',{attrs:{\"label\":\"基础配置\"}},[_c('Form',{attrs:{\"label-width\":140}},[_vm._l((_vm.basicsList),function(item){return _c('FormItem',{key:item.id,attrs:{\"label\":item.title}},[(item.attr == 'switch')?_c('i-switch',{attrs:{\"true-value\":\"1\",\"false-value\":\"0\"},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_vm._e(),(item.attr == 'number')?_c('InputNumber',{staticStyle:{\"width\":\"70%\"},attrs:{\"min\":0},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_vm._e(),(item.attr == 'input')?_c('Input',{attrs:{\"placeholder\":item.title},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_vm._e(),(item.attr == 'radio')?_c('RadioGroup',{model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}},_vm._l((item.extend),function(items,ind){return _c('Radio',{key:ind,attrs:{\"label\":items}},[_vm._v(_vm._s(items))])}),1):_vm._e(),(item.des)?_c('p',{staticStyle:{\"font-size\":\"12px\",\"color\":\"#999\"}},[_vm._v(\"\\n                    * \"+_vm._s(item.des)+\"\\n                  \")]):_vm._e()],1)}),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.creating},on:{\"click\":function($event){return _vm.Save(_vm.basicsList,true)}}},[_vm._v(\"保存\")])],1)],2)],1),_c('TabPane',{attrs:{\"label\":\"邮箱配置\"}},[_c('Form',{attrs:{\"label-width\":120}},[_vm._l((_vm.emailList),function(item){return _c('FormItem',{key:item.id,attrs:{\"label\":item.title}},[(item.attr == 'input')?_c('Input',{attrs:{\"placeholder\":item.title},model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}}):_vm._e(),(item.attr == 'radio')?_c('RadioGroup',{model:{value:(item.value),callback:function ($$v) {_vm.$set(item, \"value\", $$v)},expression:\"item.value\"}},_vm._l((item.extend),function(items,ind){return _c('Radio',{key:ind,attrs:{\"label\":items}},[_vm._v(_vm._s(items))])}),1):_vm._e()],1)}),_c('FormItem',[_c('Button',{attrs:{\"type\":\"primary\",\"loading\":_vm.creating},on:{\"click\":function($event){return _vm.Save(_vm.emailList)}}},[_vm._v(\"保存\")]),_c('Button',{attrs:{\"type\":\"warning\",\"loading\":_vm.creating2},on:{\"click\":_vm.sendTest}},[_vm._v(\"发送测试邮件\")]),_c('p',{staticStyle:{\"font-size\":\"12px\",\"color\":\"#999\"}},[_vm._v(\"* 发送测试邮件会发送至当前登录用户的邮箱，请确保当前登录用户的账号为邮箱格式\")])],1)],2)],1)],1)],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"page-content\">\r\n      <div class=\"container-fluid\">\r\n        <div class=\"card\">\r\n          <div class=\"card-head\">系统设置</div>\r\n          <div class=\"card-body\">\r\n            <div class=\"demo-spin-container\" v-if=\"loading\">\r\n              <Spin fix size=\"large\"></Spin>\r\n            </div>\r\n            <Tabs type=\"card\" :animated=\"false\" v-else>\r\n              <TabPane label=\"基础配置\">\r\n                <Form :label-width=\"140\">\r\n                  <FormItem v-for=\"item in basicsList\" :key=\"item.id\" :label=\"item.title\">\r\n                    <i-switch v-if=\"item.attr == 'switch'\" v-model=\"item.value\" true-value=\"1\" false-value=\"0\" />\r\n                    <InputNumber v-if=\"item.attr == 'number'\" v-model=\"item.value\" :min=\"0\" style=\"width: 70%\">\r\n                    </InputNumber>\r\n                    <Input v-if=\"item.attr == 'input'\" v-model=\"item.value\" :placeholder=\"item.title\"></Input>\r\n                    <RadioGroup v-if=\"item.attr == 'radio'\" v-model=\"item.value\">\r\n                      <Radio v-for=\"(items, ind) in item.extend\" :key=\"ind\" :label=\"items\">{{ items }}</Radio>\r\n                    </RadioGroup>\r\n                    <p style=\"font-size:12px;color:#999\" v-if=\"item.des\">\r\n                      * {{item.des}}\r\n                    </p>\r\n                  </FormItem>\r\n                  <FormItem>\r\n                    <Button type=\"primary\" @click=\"Save(basicsList,true)\" :loading=\"creating\">保存</Button>\r\n                  </FormItem>\r\n                </Form>\r\n              </TabPane>\r\n              <TabPane label=\"邮箱配置\">\r\n                <Form :label-width=\"120\">\r\n                  <FormItem v-for=\"item in emailList\" :key=\"item.id\" :label=\"item.title\">\r\n                    <Input v-if=\"item.attr == 'input'\" v-model=\"item.value\" :placeholder=\"item.title\"></Input>\r\n                    <RadioGroup v-if=\"item.attr == 'radio'\" v-model=\"item.value\">\r\n                      <Radio v-for=\"(items, ind) in item.extend\" :key=\"ind\" :label=\"items\">{{ items }}</Radio>\r\n                    </RadioGroup>\r\n                  </FormItem>\r\n                  <FormItem>\r\n                    <Button type=\"primary\" @click=\"Save(emailList)\" :loading=\"creating\">保存</Button>\r\n                    <Button type=\"warning\" @click=\"sendTest\" :loading=\"creating2\">发送测试邮件</Button>\r\n                    <p style=\"font-size:12px;color:#999\">* 发送测试邮件会发送至当前登录用户的邮箱，请确保当前登录用户的账号为邮箱格式</p>\r\n                  </FormItem>\r\n                </Form>\r\n              </TabPane>\r\n            </Tabs>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    getSetup,\r\n    putSetup,\r\n    postSendMail,\r\n    getIndex\r\n  } from \"@/api\";\r\n  import {\r\n    mapMutations\r\n  } from \"vuex\";\r\n  export default {\r\n    data() {\r\n      return {\r\n        emailList: [],\r\n        basicsList: [],\r\n        sms: {},\r\n        creating: false,\r\n        creating2: false,\r\n        loading: true\r\n      };\r\n    },\r\n    created() {\r\n      this._getData();\r\n    },\r\n\r\n    methods: {\r\n      ...mapMutations([\"addConfig\"]),\r\n      // 获取列表\r\n      _getData() {\r\n        getSetup(\"basics\").then((res) => {\r\n          this.basicsList = res.data;\r\n          this.loading = false\r\n        });\r\n        getSetup(\"email\").then((res) => {\r\n          this.emailList = res.data;\r\n          this.loading = false\r\n        });\r\n      },\r\n      // 基础配置\r\n      Save(arr, reload) {\r\n        this.creating = true;\r\n        putSetup({\r\n          createData: arr,\r\n        }).then((res) => {\r\n          if (res.code == 200) {\r\n            this.$Message.success({\r\n              background: true,\r\n              content: res.msg,\r\n            });\r\n            this._getData();\r\n\r\n            if (reload == true) {\r\n              getIndex().then((res) => {\r\n                this.addConfig(res.data)\r\n                location.reload();\r\n              });\r\n            }\r\n\r\n          } else {\r\n            this.$Message.error({\r\n              background: true,\r\n              content: res.msg,\r\n            });\r\n          }\r\n          this.creating = false;\r\n        });\r\n      },\r\n      // 测试邮件\r\n      sendTest() {\r\n        this.$Modal.confirm({\r\n          title: \"发送测试邮件\",\r\n          content: \"请确保当前设置已配置完毕且已保存，当前登录用户邮箱是否能接收邮件，是否发送测试？\",\r\n          onOk: () => {\r\n            this.creating2 = true\r\n            postSendMail().then(res => {\r\n              if (res.code == 200) {\r\n                this.$Message.success({\r\n                  background: true,\r\n                  content: res.msg,\r\n                });\r\n              } else {\r\n                this.$Message.error({\r\n                  background: true,\r\n                  content: res.msg,\r\n                });\r\n              }\r\n              this.creating2 = false\r\n            })\r\n          },\r\n        });\r\n\r\n      }\r\n    },\r\n  };\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .card-body {\r\n    min-height: 435px;\r\n  }\r\n\r\n  .ivu-radio-wrapper {\r\n    margin-right: 20px;\r\n  }\r\n\r\n  .ivu-btn {\r\n    margin-right: 10px;\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./admin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./admin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./admin.vue?vue&type=template&id=61631f8f&scoped=true&\"\nimport script from \"./admin.vue?vue&type=script&lang=js&\"\nexport * from \"./admin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./admin.vue?vue&type=style&index=0&id=61631f8f&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61631f8f\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./admin.vue?vue&type=style&index=0&id=61631f8f&lang=less&scoped=true&\""],"sourceRoot":""}