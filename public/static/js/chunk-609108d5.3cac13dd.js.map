{"version":3,"sources":["webpack:///./src/views/setup/member.vue?a711","webpack:///src/views/setup/member.vue","webpack:///./src/views/setup/member.vue?a4e2","webpack:///./src/views/setup/member.vue","webpack:///./src/views/setup/member.vue?0cfc","webpack:///./node_modules/core-js/modules/es6.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","attrs","model","value","callback","$$v","name","expression","userInfo","role","is_admin","staticStyle","on","addClick","_e","load","columns","data","scopedSlots","_u","key","fn","ref","row","avatar","_s","capacity","toFixed","user_size","state","$event","editClick","del","id","Number","total","page","size","$store","isMobile","pageChange","pageSizeChange","edit","creating","editSave","addSave","modal2","createData","createRules","$set","_l","item","directives","rawName","pwd","modal3","slot","modal_loading","delFunction","staticRenderFns","component","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get","match","e"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,MAAM,CAACE,YAAY,mBAAmB,CAACF,EAAG,MAAM,CAACE,YAAY,QAAQ,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAACN,EAAIO,GAAG,kCAAkCH,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,QAAQ,YAAc,UAAU,OAAS,IAAIC,MAAM,CAACC,MAAOV,EAAQ,KAAEW,SAAS,SAAUC,GAAMZ,EAAIa,KAAKD,GAAKE,WAAW,WAAW,KAAKV,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,MAAM,CAACE,YAAY,aAAa,CAAgC,GAA9BN,EAAIe,SAASC,KAAKC,SAAeb,EAAG,SAAS,CAACc,YAAY,CAAC,eAAe,QAAQV,MAAM,CAAC,KAAO,UAAU,KAAO,UAAUW,GAAG,CAAC,MAAQnB,EAAIoB,WAAW,CAACpB,EAAIO,GAAG,QAAQP,EAAIqB,MAAM,GAAGjB,EAAG,QAAQ,CAACI,MAAM,CAAC,OAAS,GAAG,QAAUR,EAAIsB,KAAK,QAAUtB,EAAIuB,QAAQ,KAAOvB,EAAIwB,MAAMC,YAAYzB,EAAI0B,GAAG,CAAC,CAACC,IAAI,SAASC,GAAG,SAASC,GAC/3B,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAAC1B,EAAG,SAAS,CAACI,MAAM,CAAC,IAAMsB,EAAIC,aAAa,CAACJ,IAAI,WAAWC,GAAG,SAASC,GAC/E,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAAC1B,EAAG,OAAO,CAACJ,EAAIO,GAAGP,EAAIgC,IAAIF,EAAIG,SAAS,KAAK,KAAK,MAAMC,QAAQ,IAAI,WAAW,CAACP,IAAI,YAAYC,GAAG,SAASC,GACnH,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAAC1B,EAAG,OAAO,CAACJ,EAAIO,GAAGP,EAAIgC,IAAIF,EAAIK,UAAU,KAAK,KAAK,MAAMD,QAAQ,IAAI,WAAW,CAACP,IAAI,QAAQC,GAAG,SAASC,GAChH,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAAgB,IAAdA,EAAIM,MAAahC,EAAG,QAAQ,CAACI,MAAM,CAAC,OAAS,QAAQ,KAAO,SAASR,EAAIqB,KAAoB,IAAdS,EAAIM,MAAahC,EAAG,QAAQ,CAACI,MAAM,CAAC,OAAS,UAAU,KAAO,SAASR,EAAIqB,KAAoB,IAAdS,EAAIM,MAAahC,EAAG,QAAQ,CAACI,MAAM,CAAC,OAAS,UAAU,KAAO,SAASR,EAAIqB,QAAQ,CAACM,IAAI,SAASC,GAAG,SAASC,GACtR,IAAIC,EAAMD,EAAIC,IACd,MAAO,CAAC1B,EAAG,SAAS,CAACc,YAAY,CAAC,eAAe,OAAOV,MAAM,CAAC,KAAO,UAAU,KAAO,SAASW,GAAG,CAAC,MAAQ,SAASkB,GAAQ,OAAOrC,EAAIsC,UAAUR,MAAQ,CAAC9B,EAAIO,GAAG,QAAQH,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,QAAQ,KAAO,SAASW,GAAG,CAAC,MAAQ,SAASkB,GAAQ,OAAOrC,EAAIuC,IAAIT,EAAIU,OAAO,CAACxC,EAAIO,GAAG,eAAeH,EAAG,MAAM,CAACE,YAAY,UAAU,CAACF,EAAG,OAAO,CAACI,MAAM,CAAC,MAAQiC,OAAOzC,EAAI0C,OAAO,QAAU1C,EAAI2C,KAAK,YAAY3C,EAAI4C,KAAK,OAAS5C,EAAI6C,OAAOT,MAAMU,SAAS,aAAa,GAAG,aAAa,GAAG,gBAAgB,IAAI3B,GAAG,CAAC,YAAYnB,EAAI+C,WAAW,sBAAsB/C,EAAIgD,mBAAmB,IAAI,SAAS5C,EAAG,QAAQ,CAACI,MAAM,CAAC,MAAQ,IAAI,MAAQR,EAAIiD,KAAO,OAAS,OAAO,QAAUjD,EAAIkD,SAAS,aAAa,yBAAyB/B,GAAG,CAAC,QAAQ,SAASkB,GAAQrC,EAAIiD,KAAOjD,EAAImD,WAAanD,EAAIoD,YAAY3C,MAAM,CAACC,MAAOV,EAAU,OAAEW,SAAS,SAAUC,GAAMZ,EAAIqD,OAAOzC,GAAKE,WAAW,WAAW,CAACV,EAAG,OAAO,CAACyB,IAAI,SAASrB,MAAM,CAAC,MAAQR,EAAIsD,WAAW,MAAQtD,EAAIuD,YAAY,cAAc,MAAM,CAACnD,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,QAAQ,KAAO,UAAU,CAACJ,EAAG,QAAQ,CAACI,MAAM,CAAC,YAAc,SAASC,MAAM,CAACC,MAAOV,EAAIsD,WAAgB,MAAE3C,SAAS,SAAUC,GAAMZ,EAAIwD,KAAKxD,EAAIsD,WAAY,QAAS1C,IAAME,WAAW,uBAAuB,GAAGV,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,MAAM,KAAO,YAAY,CAACJ,EAAG,SAAS,CAACc,YAAY,CAAC,MAAQ,SAASV,MAAM,CAAC,YAAc,UAAUC,MAAM,CAACC,MAAOV,EAAIsD,WAAkB,QAAE3C,SAAS,SAAUC,GAAMZ,EAAIwD,KAAKxD,EAAIsD,WAAY,UAAW1C,IAAME,WAAW,uBAAuBd,EAAIyD,GAAIzD,EAAY,UAAE,SAAS0D,GAAM,OAAOtD,EAAG,SAAS,CAACuB,IAAI+B,EAAKlB,GAAGhC,MAAM,CAAC,MAAQkD,EAAKlB,KAAK,CAACxC,EAAIO,GAAGP,EAAIgC,GAAG0B,EAAK7C,YAAW,IAAI,GAAGT,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,QAAQ,KAAO,aAAa,CAACJ,EAAG,cAAc,CAACc,YAAY,CAAC,MAAQ,OAAOV,MAAM,CAAC,IAAM,GAAGC,MAAM,CAACC,MAAOV,EAAIsD,WAAmB,SAAE3C,SAAS,SAAUC,GAAMZ,EAAIwD,KAAKxD,EAAIsD,WAAY,WAAY1C,IAAME,WAAW,0BAA0B,GAAGV,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,OAAO,CAACJ,EAAG,QAAQ,CAACI,MAAM,CAAC,YAAc,SAASC,MAAM,CAACC,MAAOV,EAAIsD,WAAmB,SAAE3C,SAAS,SAAUC,GAAMZ,EAAIwD,KAAKxD,EAAIsD,WAAY,WAAY1C,IAAME,WAAW,0BAA0B,GAAGV,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,SAAS,CAACJ,EAAG,QAAQ,CAACI,MAAM,CAAC,YAAc,WAAWC,MAAM,CAACC,MAAOV,EAAIsD,WAAgB,MAAE3C,SAAS,SAAUC,GAAMZ,EAAIwD,KAAKxD,EAAIsD,WAAY,QAAS1C,IAAME,WAAW,uBAAuB,GAAGV,EAAG,WAAW,CAACuD,WAAW,CAAC,CAAC9C,KAAK,OAAO+C,QAAQ,SAASlD,MAAOV,EAAQ,KAAEc,WAAW,SAASN,MAAM,CAAC,MAAQ,OAAO,KAAO,QAAQ,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,aAAa,EAAE,cAAc,GAAGC,MAAM,CAACC,MAAOV,EAAIsD,WAAc,IAAE3C,SAAS,SAAUC,GAAMZ,EAAIwD,KAAKxD,EAAIsD,WAAY,MAAO1C,IAAME,WAAW,oBAAoBV,EAAG,IAAI,CAACuD,WAAW,CAAC,CAAC9C,KAAK,OAAO+C,QAAQ,SAASlD,MAA6B,GAAtBV,EAAIsD,WAAWO,IAAU/C,WAAW,wBAAwBI,YAAY,CAAC,YAAY,OAAO,MAAQ,QAAQ,CAAClB,EAAIO,GAAG,6CAA6C,GAAGH,EAAG,WAAW,CAACI,MAAM,CAAC,MAAQ,KAAK,KAAO,UAAU,CAACJ,EAAG,WAAW,CAACI,MAAM,CAAC,aAAa,EAAE,cAAc,GAAGC,MAAM,CAACC,MAAOV,EAAIsD,WAAgB,MAAE3C,SAAS,SAAUC,GAAMZ,EAAIwD,KAAKxD,EAAIsD,WAAY,QAAS1C,IAAME,WAAW,uBAAuB,IAAI,IAAI,GAAGV,EAAG,QAAQ,CAACI,MAAM,CAAC,MAAQ,OAAOC,MAAM,CAACC,MAAOV,EAAU,OAAEW,SAAS,SAAUC,GAAMZ,EAAI8D,OAAOlD,GAAKE,WAAW,WAAW,CAACV,EAAG,IAAI,CAACc,YAAY,CAAC,MAAQ,QAAQV,MAAM,CAAC,KAAO,UAAUuD,KAAK,UAAU,CAAC3D,EAAG,OAAO,CAACI,MAAM,CAAC,KAAO,4BAA4BJ,EAAG,OAAO,CAACJ,EAAIO,GAAG,WAAW,GAAGH,EAAG,MAAM,CAACA,EAAG,IAAI,CAACJ,EAAIO,GAAG,sDAAsDH,EAAG,MAAM,CAACI,MAAM,CAAC,KAAO,UAAUuD,KAAK,UAAU,CAAC3D,EAAG,SAAS,CAACI,MAAM,CAAC,KAAO,QAAQ,KAAO,QAAQ,KAAO,GAAG,QAAUR,EAAIgE,eAAe7C,GAAG,CAAC,MAAQnB,EAAIiE,cAAc,CAACjE,EAAIO,GAAG,WAAW,MAAM,IAC9lH2D,EAAkB,G,0pBCmGtB,OACE,KADF,WAEI,MAAJ,CACM,KAAN,EACM,KAAN,GACM,KAAN,GACM,MAAN,GACM,MAAN,EACM,KAAN,GACM,SAAN,GACM,QAAN,EACM,QAAN,EACM,MAAN,EACM,QAAN,EACQ,MAAR,KACQ,IAAR,KACQ,MAAR,SACQ,SAAR,GACQ,MAAR,QAEA,CACQ,MAAR,KACQ,MAAR,SACQ,KAAR,SACQ,SAAR,IAEA,CACQ,MAAR,QACQ,IAAR,QACQ,MAAR,SACQ,SAAR,IACQ,MAAR,QAEA,CACQ,MAAR,KACQ,IAAR,WACQ,MAAR,SACQ,SAAR,KAEA,CACQ,MAAR,OACQ,IAAR,QACQ,MAAR,SACQ,SAAR,KAEA,CACQ,MAAR,MACQ,IAAR,YACQ,MAAR,SACQ,SAAR,KAEA,CACQ,MAAR,OACQ,IAAR,cACQ,MAAR,SACQ,SAAR,KAGA,CACQ,MAAR,MACQ,MAAR,SACQ,KAAR,WACQ,SAAR,KAEA,CACQ,MAAR,OACQ,MAAR,SACQ,KAAR,YACQ,SAAR,KAGA,CACQ,MAAR,KACQ,SAAR,IACQ,MAAR,SACQ,KAAR,SAEA,CACQ,MAAR,KACQ,SAAR,IACQ,MAAR,SACQ,KAAR,SACQ,MAAR,UAGM,SAAN,GACM,WAAN,GACM,YAAN,CACQ,MAAR,EACU,UAAV,EACU,QAAV,QACU,QAAV,SAEQ,QAAR,EACU,UAAV,EACU,QAAV,WAEQ,SAAR,EACU,UAAV,EACU,QAAV,YAGM,UAAN,EACM,MAAN,GACM,eAAN,IAGE,QA3GF,WA4GI,KAAJ,WACI,KAAJ,WACA,gCACM,KAAN,eAGE,SAAF,KACA,8BAEE,MAAF,CACI,KADJ,SACA,KACA,OACQ,KAAR,OACQ,KAAR,QACQ,KAAR,cAKE,QAAF,CAEI,SAFJ,WAEM,IAAN,OACM,OAAN,OAAM,CAAN,CACQ,KAAR,UACQ,KAAR,UACQ,KAAR,YACA,kBACQ,EAAR,iBACQ,EAAR,mBACQ,EAAR,YAII,UAdJ,SAcA,GACM,KAAN,cACM,KAAN,QACM,KAAN,UACM,KAAN,kBACA,GADA,IAEQ,IAAR,IAGM,KAAN,4FACA,qBAEI,SA1BJ,WA2BM,KAAN,QACM,KAAN,UACM,KAAN,YACQ,MAAR,GACQ,QAAR,GACQ,SAAR,GACQ,MAAR,GACQ,SAAR,EACQ,MAAR,EACQ,OAAR,yEAII,QAxCJ,WAwCM,IAAN,OACM,KAAN,mCACA,GACU,OAAV,OAAU,CAAV,CACY,MAAZ,mBACY,QAAZ,qBACY,SAAZ,sBACY,MAAZ,mBACY,SAAZ,qCACY,MAAZ,mBACY,OAAZ,sBACA,kBACA,aACc,EAAd,kBACgB,YAAhB,EACgB,QAAhB,QAEc,EAAd,WACc,EAAd,WAEc,EAAd,gBACgB,YAAhB,EACgB,QAAhB,WAKU,EAAV,YACU,EAAV,sBACY,EAAZ,iBAGU,EAAV,YACU,EAAV,sBACY,EAAZ,oBAOI,SAjFJ,WAiFM,IAAN,OACM,KAAN,mCACA,GACU,OAAV,OAAU,CAAV,CACY,GAAZ,gBACY,MAAZ,mBACY,QAAZ,qBACY,SAAZ,sBACY,MAAZ,mBACY,SAAZ,qCACY,MAAZ,mBACY,IAAZ,mBACA,kBACA,aACc,EAAd,kBACgB,YAAhB,EACgB,QAAhB,QAEc,EAAd,WACc,EAAd,WAEc,EAAd,gBACgB,YAAhB,EACgB,QAAhB,WAKU,EAAV,YACU,EAAV,sBACY,EAAZ,iBAGU,EAAV,YACU,EAAV,sBACY,EAAZ,oBAQI,IA5HJ,SA4HA,GACM,KAAN,QACM,KAAN,WAGI,YAjIJ,WAiIM,IAAN,OACM,KAAN,iBACM,OAAN,OAAM,CAAN,CACQ,GAAR,aACA,kBACA,aACU,EAAV,kBACY,YAAZ,EACY,QAAZ,QAEU,EAAV,YAEU,EAAV,gBACY,YAAZ,EACY,QAAZ,QAGQ,EAAR,iBACQ,EAAR,cAKI,WAxJJ,SAwJA,GACM,KAAN,OACM,KAAN,QACM,KAAN,YAEI,eA7JJ,SA6JA,GACM,KAAN,QACM,KAAN,OACM,KAAN,OACM,KAAN,YAGI,SApKJ,WAoKM,IAAN,OACM,OAAN,OAAM,CAAN,CACQ,KAAR,EACQ,KAAR,IACQ,KAAR,KACA,kBACQ,EAAR,2BCvZ+V,I,wBCQ3VC,EAAY,eACd,EACApE,EACAmE,GACA,EACA,KACA,WACA,MAIa,aAAAC,E,6CCnBf,W,8CCAA,IAAIC,EAAK,EAAQ,QAAgBC,EAC7BC,EAASC,SAASC,UAClBC,EAAS,wBACTC,EAAO,OAGXA,KAAQJ,GAAU,EAAQ,SAAqBF,EAAGE,EAAQI,EAAM,CAC9DC,cAAc,EACdC,IAAK,WACH,IACE,OAAQ,GAAK3E,MAAM4E,MAAMJ,GAAQ,GACjC,MAAOK,GACP,MAAO","file":"static/js/chunk-609108d5.3cac13dd.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"page-content\"},[_c('div',{staticClass:\"container-fluid\"},[_c('div',{staticClass:\"card\"},[_c('div',{staticClass:\"card-head\"},[_vm._v(\"\\n          团队成员\\n\\n          \"),_c('div',{staticClass:\"search-input\"},[_c('Input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入邮箱搜索\",\"search\":\"\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}})],1)]),_c('div',{staticClass:\"card-body padding-top0\"},[_c('div',{staticClass:\"card-menu\"},[(_vm.userInfo.role.is_admin == 1)?_c('Button',{staticStyle:{\"margin-right\":\"10px\"},attrs:{\"type\":\"primary\",\"icon\":\"md-add\"},on:{\"click\":_vm.addClick}},[_vm._v(\"新增\")]):_vm._e()],1),_c('Table',{attrs:{\"border\":\"\",\"loading\":_vm.load,\"columns\":_vm.columns,\"data\":_vm.data},scopedSlots:_vm._u([{key:\"avatar\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('Avatar',{attrs:{\"src\":row.avatar}})]}},{key:\"capacity\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s((row.capacity/1024/1024/1024).toFixed(2))+\" G\")])]}},{key:\"user_size\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('span',[_vm._v(_vm._s((row.user_size/1024/1024/1024).toFixed(2))+\" G\")])]}},{key:\"state\",fn:function(ref){\nvar row = ref.row;\nreturn [(row.state === 0)?_c('Badge',{attrs:{\"status\":\"error\",\"text\":\"已停用\"}}):_vm._e(),(row.state === 1)?_c('Badge',{attrs:{\"status\":\"success\",\"text\":\"已启用\"}}):_vm._e(),(row.state === 2)?_c('Badge',{attrs:{\"status\":\"warning\",\"text\":\"待审核\"}}):_vm._e()]}},{key:\"action\",fn:function(ref){\nvar row = ref.row;\nreturn [_c('Button',{staticStyle:{\"margin-right\":\"5px\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.editClick(row)}}},[_vm._v(\"编辑\")]),_c('Button',{attrs:{\"type\":\"error\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.del(row.id)}}},[_vm._v(\"删除\")])]}}])}),_c('div',{staticClass:\"paging\"},[_c('Page',{attrs:{\"total\":Number(_vm.total),\"current\":_vm.page,\"page-size\":_vm.size,\"simple\":_vm.$store.state.isMobile,\"show-total\":\"\",\"show-sizer\":\"\",\"show-elevator\":\"\"},on:{\"on-change\":_vm.pageChange,\"on-page-size-change\":_vm.pageSizeChange}})],1)],1)])])]),_c('Modal',{attrs:{\"width\":600,\"title\":_vm.edit ? '编辑成员' : '新增成员',\"loading\":_vm.creating,\"class-name\":\"vertical-center-modal\"},on:{\"on-ok\":function($event){_vm.edit ? _vm.editSave() : _vm.addSave()}},model:{value:(_vm.modal2),callback:function ($$v) {_vm.modal2=$$v},expression:\"modal2\"}},[_c('Form',{ref:\"create\",attrs:{\"model\":_vm.createData,\"rules\":_vm.createRules,\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"邮箱/账号\",\"prop\":\"email\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入邮箱\"},model:{value:(_vm.createData.email),callback:function ($$v) {_vm.$set(_vm.createData, \"email\", $$v)},expression:\"createData.email\"}})],1),_c('FormItem',{attrs:{\"label\":\"角色组\",\"prop\":\"role_id\"}},[_c('Select',{staticStyle:{\"width\":\"200px\"},attrs:{\"placeholder\":\"请选择角色组\"},model:{value:(_vm.createData.role_id),callback:function ($$v) {_vm.$set(_vm.createData, \"role_id\", $$v)},expression:\"createData.role_id\"}},_vm._l((_vm.roleList),function(item){return _c('Option',{key:item.id,attrs:{\"value\":item.id}},[_vm._v(_vm._s(item.name))])}),1)],1),_c('FormItem',{attrs:{\"label\":\"总配额/G\",\"prop\":\"capacity\"}},[_c('InputNumber',{staticStyle:{\"width\":\"70%\"},attrs:{\"min\":0},model:{value:(_vm.createData.capacity),callback:function ($$v) {_vm.$set(_vm.createData, \"capacity\", $$v)},expression:\"createData.capacity\"}})],1),_c('FormItem',{attrs:{\"label\":\"姓名\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入姓名\"},model:{value:(_vm.createData.username),callback:function ($$v) {_vm.$set(_vm.createData, \"username\", $$v)},expression:\"createData.username\"}})],1),_c('FormItem',{attrs:{\"label\":\"联系电话\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入联系电话\"},model:{value:(_vm.createData.phone),callback:function ($$v) {_vm.$set(_vm.createData, \"phone\", $$v)},expression:\"createData.phone\"}})],1),_c('FormItem',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.edit),expression:\"edit\"}],attrs:{\"label\":\"重置密码\",\"prop\":\"pwd\"}},[_c('i-switch',{attrs:{\"true-value\":1,\"false-value\":0},model:{value:(_vm.createData.pwd),callback:function ($$v) {_vm.$set(_vm.createData, \"pwd\", $$v)},expression:\"createData.pwd\"}}),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.createData.pwd == 1),expression:\"createData.pwd == 1\"}],staticStyle:{\"font-size\":\"12px\",\"color\":\"red\"}},[_vm._v(\"\\n          * 密码将会重置为：123456\\n        \")])],1),_c('FormItem',{attrs:{\"label\":\"状态\",\"prop\":\"state\"}},[_c('i-switch',{attrs:{\"true-value\":1,\"false-value\":0},model:{value:(_vm.createData.state),callback:function ($$v) {_vm.$set(_vm.createData, \"state\", $$v)},expression:\"createData.state\"}})],1)],1)],1),_c('Modal',{attrs:{\"width\":\"360\"},model:{value:(_vm.modal3),callback:function ($$v) {_vm.modal3=$$v},expression:\"modal3\"}},[_c('p',{staticStyle:{\"color\":\"#f60\"},attrs:{\"slot\":\"header\"},slot:\"header\"},[_c('Icon',{attrs:{\"type\":\"ios-information-circle\"}}),_c('span',[_vm._v(\"删除确认\")])],1),_c('div',[_c('p',[_vm._v(\"删除用户不会删除此用户之前上传的图片，可通过新增相同邮箱恢复用户，是否删除？\\n      \")])]),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('Button',{attrs:{\"type\":\"error\",\"size\":\"large\",\"long\":\"\",\"loading\":_vm.modal_loading},on:{\"click\":_vm.delFunction}},[_vm._v(\"确认删除\")])],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"page-content\">\r\n      <div class=\"container-fluid\">\r\n        <div class=\"card\">\r\n          <div class=\"card-head\">\r\n            团队成员\r\n\r\n            <div class=\"search-input\">\r\n              <Input v-model=\"name\" size=\"small\" placeholder=\"请输入邮箱搜索\" search />\r\n            </div>\r\n          </div>\r\n          <div class=\"card-body padding-top0\">\r\n            <div class=\"card-menu\">\r\n              <Button v-if=\"userInfo.role.is_admin == 1\" type=\"primary\" icon=\"md-add\" @click=\"addClick\" style=\"margin-right: 10px\">新增</Button>\r\n            </div>\r\n            <Table border :loading=\"load\" :columns=\"columns\" :data=\"data\">\r\n              <template slot-scope=\"{ row }\" slot=\"avatar\">\r\n                <Avatar :src=\"row.avatar\" />\r\n              </template>\r\n              <template slot-scope=\"{ row }\" slot=\"capacity\">\r\n                <span>{{(row.capacity/1024/1024/1024).toFixed(2)}} G</span>\r\n              </template>\r\n              <template slot-scope=\"{ row }\" slot=\"user_size\">\r\n                <span>{{(row.user_size/1024/1024/1024).toFixed(2)}} G</span>\r\n              </template>\r\n\r\n              <template slot-scope=\"{ row }\" slot=\"state\">\r\n                <Badge v-if=\"row.state === 0\" status=\"error\" text=\"已停用\" />\r\n                <Badge v-if=\"row.state === 1\" status=\"success\" text=\"已启用\" />\r\n                <Badge v-if=\"row.state === 2\" status=\"warning\" text=\"待审核\" />\r\n              </template>\r\n\r\n              <template slot-scope=\"{ row }\" slot=\"action\">\r\n                <Button type=\"primary\" size=\"small\" style=\"margin-right: 5px\" @click=\"editClick(row)\">编辑</Button>\r\n                <Button type=\"error\" size=\"small\" @click=\"del(row.id)\">删除</Button>\r\n              </template>\r\n            </Table>\r\n            <div class=\"paging\">\r\n              <Page :total=\"Number(total)\" :current=\"page\" :page-size=\"size\" :simple=\"$store.state.isMobile\"\r\n                @on-change=\"pageChange\" @on-page-size-change=\"pageSizeChange\" show-total show-sizer show-elevator />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <Modal v-model=\"modal2\" :width=\"600\" :title=\"edit ? '编辑成员' : '新增成员'\" :loading=\"creating\"\r\n      @on-ok=\"edit ? editSave() : addSave()\" class-name=\"vertical-center-modal\">\r\n      <Form ref=\"create\" :model=\"createData\" :rules=\"createRules\" :label-width=\"100\">\r\n        <FormItem label=\"邮箱/账号\" prop=\"email\">\r\n          <Input v-model=\"createData.email\" placeholder=\"请输入邮箱\" />\r\n        </FormItem>\r\n        <FormItem label=\"角色组\" prop=\"role_id\">\r\n          <Select v-model=\"createData.role_id\" style=\"width: 200px\" placeholder=\"请选择角色组\">\r\n            <Option v-for=\"item in roleList\" :value=\"item.id\" :key=\"item.id\">{{ item.name }}</Option>\r\n          </Select>\r\n        </FormItem>\r\n        <FormItem label=\"总配额/G\" prop=\"capacity\">\r\n          <InputNumber v-model=\"createData.capacity\" :min=\"0\" style=\"width: 70%\">\r\n          </InputNumber>\r\n        </FormItem>\r\n        <FormItem label=\"姓名\">\r\n          <Input v-model=\"createData.username\" placeholder=\"请输入姓名\" />\r\n        </FormItem>\r\n        <FormItem label=\"联系电话\">\r\n          <Input v-model=\"createData.phone\" placeholder=\"请输入联系电话\" />\r\n        </FormItem>\r\n\r\n        <FormItem label=\"重置密码\" prop=\"pwd\" v-show=\"edit\">\r\n          <i-switch v-model=\"createData.pwd\" :true-value=\"1\" :false-value=\"0\" />\r\n          <p style=\"font-size:12px;color:red\" v-show=\"createData.pwd == 1\">\r\n            * 密码将会重置为：123456\r\n          </p>\r\n        </FormItem>\r\n        <FormItem label=\"状态\" prop=\"state\">\r\n          <i-switch v-model=\"createData.state\" :true-value=\"1\" :false-value=\"0\" />\r\n        </FormItem>\r\n\r\n\r\n      </Form>\r\n    </Modal>\r\n\r\n    <Modal v-model=\"modal3\" width=\"360\">\r\n      <p slot=\"header\" style=\"color: #f60\">\r\n        <Icon type=\"ios-information-circle\"></Icon>\r\n        <span>删除确认</span>\r\n      </p>\r\n      <div>\r\n        <p>删除用户不会删除此用户之前上传的图片，可通过新增相同邮箱恢复用户，是否删除？\r\n        </p>\r\n      </div>\r\n      <div slot=\"footer\">\r\n        <Button type=\"error\" size=\"large\" long :loading=\"modal_loading\" @click=\"delFunction\">确认删除</Button>\r\n      </div>\r\n    </Modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import {\r\n    getMember,\r\n    getRole,\r\n    postMember,\r\n    putMember,\r\n    delMember\r\n  } from \"@/api/index\";\r\n  import {\r\n    mapState\r\n  } from \"vuex\";\r\n  export default {\r\n    data() {\r\n      return {\r\n        page: 1,\r\n        size: 10,\r\n        name: \"\",\r\n        total: \"\",\r\n        load: true,\r\n        data: [],\r\n        roleInfo: {},\r\n        modal2: false,\r\n        modal3: false,\r\n        edit: false,\r\n        columns: [{\r\n            title: \"ID\",\r\n            key: \"id\",\r\n            align: \"center\",\r\n            minWidth: 80,\r\n            fixed: 'left'\r\n          },\r\n          {\r\n            title: \"头像\",\r\n            align: \"center\",\r\n            slot: \"avatar\",\r\n            minWidth: 70,\r\n          },\r\n          {\r\n            title: \"邮箱/账号\",\r\n            key: \"email\",\r\n            align: \"center\",\r\n            minWidth: 200,\r\n            fixed: 'left'\r\n          },\r\n          {\r\n            title: \"姓名\",\r\n            key: \"username\",\r\n            align: \"center\",\r\n            minWidth: 120,\r\n          },\r\n          {\r\n            title: \"联系电话\",\r\n            key: \"phone\",\r\n            align: \"center\",\r\n            minWidth: 130,\r\n          },\r\n          {\r\n            title: \"角色组\",\r\n            key: \"role_name\",\r\n            align: \"center\",\r\n            minWidth: 130,\r\n          },\r\n          {\r\n            title: \"创建时间\",\r\n            key: \"create_time\",\r\n            align: \"center\",\r\n            minWidth: 180,\r\n          },\r\n\r\n          {\r\n            title: \"总配额\",\r\n            align: \"center\",\r\n            slot: \"capacity\",\r\n            minWidth: 100,\r\n          },\r\n          {\r\n            title: \"已用容量\",\r\n            align: \"center\",\r\n            slot: \"user_size\",\r\n            minWidth: 100,\r\n          },\r\n\r\n          {\r\n            title: \"状态\",\r\n            minWidth: 130,\r\n            align: \"center\",\r\n            slot: \"state\",\r\n          },\r\n          {\r\n            title: \"操作\",\r\n            minWidth: 150,\r\n            align: \"center\",\r\n            slot: \"action\",\r\n            fixed: 'right'\r\n          },\r\n        ],\r\n        roleList: [],\r\n        createData: {},\r\n        createRules: {\r\n          email: [{\r\n            required: true,\r\n            message: \"请输入邮箱\",\r\n            trigger: \"blur\"\r\n          }],\r\n          role_id: [{\r\n            required: true,\r\n            message: \"请选择角色组\",\r\n          }],\r\n          capacity: [{\r\n            required: true,\r\n            message: \"请输入总配额\",\r\n          }],\r\n        },\r\n        creating: true,\r\n        delId: \"\",\r\n        modal_loading: false,\r\n      };\r\n    },\r\n    created() {\r\n      this._getData();\r\n      this._getRole();\r\n      if (this.userInfo.role.is_admin != 1) {\r\n        this.columns.pop()\r\n      }\r\n    },\r\n    computed: {\r\n      ...mapState([\"userInfo\"]),\r\n    },\r\n    watch: {\r\n      name(newVal, oldVal) {\r\n        if (newVal != oldVal) {\r\n          this.page = 1\r\n          this.load = true\r\n          this._getData();\r\n        }\r\n      },\r\n    },\r\n\r\n    methods: {\r\n      // 获取列表\r\n      _getData() {\r\n        getMember({\r\n          page: this.page,\r\n          size: this.size,\r\n          name: this.name,\r\n        }).then((res) => {\r\n          this.data = res.data.data;\r\n          this.total = res.data.total;\r\n          this.load = false;\r\n        });\r\n      },\r\n\r\n      editClick(row) {\r\n        this.createData = {}\r\n        this.edit = true;\r\n        this.modal2 = true;\r\n        this.createData = {\r\n          ...row,\r\n          pwd: 0\r\n        };\r\n\r\n        this.createData.capacity = this.createData.capacity > 0 ? this.createData.capacity / 1024 / 1024 / 1024 : this\r\n          .createData.capacity\r\n      },\r\n      addClick() {\r\n        this.edit = false;\r\n        this.modal2 = true;\r\n        this.createData = {\r\n          email: \"\",\r\n          role_id: \"\",\r\n          username: \"\",\r\n          phone: \"\",\r\n          capacity: 0,\r\n          state: 1,\r\n          avatar: \"https://oss.aliyuncs.com/aliyun_id_photo_bucket/default_handsome.jpg\",\r\n        };\r\n      },\r\n      // 新增\r\n      addSave() {\r\n        this.$refs.create.validate((valid) => {\r\n          if (valid) {\r\n            postMember({\r\n              email: this.createData.email,\r\n              role_id: this.createData.role_id,\r\n              username: this.createData.username,\r\n              phone: this.createData.phone,\r\n              capacity: this.createData.capacity * 1024 * 1024 * 1024,\r\n              state: this.createData.state,\r\n              avatar: this.createData.avatar,\r\n            }).then((res) => {\r\n              if (res.code == 200) {\r\n                this.$Message.success({\r\n                  background: true,\r\n                  content: res.msg,\r\n                });\r\n                this._getData();\r\n                this.modal2 = false;\r\n              } else {\r\n                this.$Message.error({\r\n                  background: true,\r\n                  content: res.msg,\r\n                });\r\n              }\r\n            });\r\n\r\n            this.creating = false;\r\n            this.$nextTick(() => {\r\n              this.creating = true;\r\n            });\r\n          } else {\r\n            this.creating = false;\r\n            this.$nextTick(() => {\r\n              this.creating = true;\r\n            });\r\n          }\r\n        });\r\n\r\n      },\r\n      // 编辑\r\n      editSave() {\r\n        this.$refs.create.validate((valid) => {\r\n          if (valid) {\r\n            putMember({\r\n              id: this.createData.id,\r\n              email: this.createData.email,\r\n              role_id: this.createData.role_id,\r\n              username: this.createData.username,\r\n              phone: this.createData.phone,\r\n              capacity: this.createData.capacity * 1024 * 1024 * 1024,\r\n              state: this.createData.state,\r\n              pwd: this.createData.pwd,\r\n            }).then((res) => {\r\n              if (res.code == 200) {\r\n                this.$Message.success({\r\n                  background: true,\r\n                  content: res.msg,\r\n                });\r\n                this._getData();\r\n                this.modal2 = false;\r\n              } else {\r\n                this.$Message.error({\r\n                  background: true,\r\n                  content: res.msg,\r\n                });\r\n              }\r\n            });\r\n\r\n            this.creating = false;\r\n            this.$nextTick(() => {\r\n              this.creating = true;\r\n            });\r\n          } else {\r\n            this.creating = false;\r\n            this.$nextTick(() => {\r\n              this.creating = true;\r\n            });\r\n          }\r\n        });\r\n      },\r\n\r\n\r\n      // 删除\r\n      del(id) {\r\n        this.delId = id;\r\n        this.modal3 = true\r\n      },\r\n      // 删除方法\r\n      delFunction() {\r\n        this.modal_loading = true\r\n        delMember({\r\n          id: this.delId,\r\n        }).then((res) => {\r\n          if (res.code == 200) {\r\n            this.$Message.success({\r\n              background: true,\r\n              content: res.msg,\r\n            });\r\n            this._getData();\r\n          } else {\r\n            this.$Message.error({\r\n              background: true,\r\n              content: res.msg,\r\n            });\r\n          }\r\n          this.modal_loading = false\r\n          this.modal3 = false\r\n        });\r\n      },\r\n\r\n      // 分页跳转\r\n      pageChange(val) {\r\n        this.page = val;\r\n        this.load = true;\r\n        this._getData();\r\n      },\r\n      pageSizeChange(val) {\r\n        this.load = true;\r\n        this.page = 1;\r\n        this.size = val;\r\n        this._getData();\r\n      },\r\n      // 获取存储桶列表\r\n      _getRole() {\r\n        getRole({\r\n          page: 1,\r\n          size: 100,\r\n          name: \"\"\r\n        }).then((res) => {\r\n          this.roleList = res.data.data;\r\n        });\r\n      },\r\n    },\r\n  };\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  /deep/.ivu-badge-status-dot {\r\n    width: 10px;\r\n    height: 10px;\r\n  }\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./member.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./member.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./member.vue?vue&type=template&id=9ec1eb64&scoped=true&\"\nimport script from \"./member.vue?vue&type=script&lang=js&\"\nexport * from \"./member.vue?vue&type=script&lang=js&\"\nimport style0 from \"./member.vue?vue&type=style&index=0&id=9ec1eb64&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9ec1eb64\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./member.vue?vue&type=style&index=0&id=9ec1eb64&lang=less&scoped=true&\"","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n"],"sourceRoot":""}